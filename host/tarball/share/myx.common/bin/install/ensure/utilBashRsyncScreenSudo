#!/bin/sh

##### !!!    This script is universal for FreeBSD, Darwin, Ubuntu.    !!! #####
##### !!! THIS SCRIPT MAY BE OVERRIDEN IN OS-DEPENDENT IMPLEMENTATION !!! #####

test `id -u` = 0 || { echo '$1: Must be run under "root" user!'; exit 1; }

set -e

LIST=""

for PKG in bash rsync screen sudo $@ ; do
	[ ! -z "`which $PKG`" ] && echo "ensure: $PKG already present, skip" >&2 || LIST="$LIST $PKG"
done

if [ -z "$LIST" ] ; then
	echo "ensure: all packages installed." >&2
	exit 0
fi

echo "ensure: will install: $LIST" >&2
myx.common lib/installEnsurePackage $LIST